GOALNET BACKEND API - QUICK REFERENCE FOR MOBILE
================================================

BASE URL: http://localhost:3000

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” AUTHENTICATION ENDPOINTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. REQUEST OTP
   POST /auth/request-otp
   
   Body:
   {
     "email": "user@example.com"
   }
   
   Response 200:
   {
     "success": true
   }

2. VERIFY OTP
   POST /auth/verify-otp
   
   Body:
   {
     "email": "user@example.com",
     "otp": "123456"
   }
   
   Response 200:
   {
     "token": "eyJhbGciOiJIUz...",
     "isNewUser": true,
     "user": {
       "id": "507f1f77bcf86cd799439011",
       "email": "user@example.com",
       "name": "",
       "role": null,
       "primaryGoal": null
     }
   }

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‘¤ USER PROFILE ENDPOINTS (Protected - Requires Token)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3. GET PROFILE
   GET /me
   
   Headers:
   Authorization: Bearer {token}
   
   Response 200:
   {
     "id": "507f1f77bcf86cd799439011",
     "email": "user@example.com",
     "name": "John Doe",
     "role": "founder",
     "primaryGoal": "fundraising",
     "company": "My Startup",
     "website": "https://mystartup.com",
     "location": "Chennai, India",
     "oneLiner": "Building AI SaaS",
     "createdAt": "2024-01-15T10:30:00.000Z",
     "updatedAt": "2024-01-20T14:45:00.000Z"
   }

4. UPDATE PROFILE
   PUT /me
   
   Headers:
   Authorization: Bearer {token}
   Content-Type: application/json
   
   Body (all fields optional):
   {
     "name": "John Doe",
     "role": "founder",
     "primaryGoal": "fundraising",
     "company": "My Startup",
     "website": "https://mystartup.com",
     "location": "Chennai, India",
     "oneLiner": "Building AI SaaS"
   }
   
   Response 200: (same as GET /me)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š ENUMS & VALID VALUES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ROLE (string):
  "founder" | "investor" | "mentor" | "cxo" | "service" | "other"

PRIMARY GOAL (string):
  "fundraising" | "clients" | "cofounder" | "hiring" | "learn" | "other"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ ERROR CODES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

400 - Bad Request (invalid input)
401 - Unauthorized (missing/invalid/expired token)
404 - Not Found
429 - Too Many Requests (rate limited)
500 - Internal Server Error

Error Response Format:
{
  "error": "Error Type",
  "message": "Human-readable message"
}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”’ AUTHENTICATION FLOW
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. User enters email â†’ POST /auth/request-otp
2. User enters OTP â†’ POST /auth/verify-otp
3. Store JWT token securely (keychain/secure storage)
4. If isNewUser === true:
     â†’ Show profile completion screen
     â†’ Call PUT /me with profile data
5. Add token to all protected requests:
     Header: Authorization: Bearer {token}
6. If 401 response â†’ Token expired, logout and re-authenticate

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â±ï¸ IMPORTANT TIMINGS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

JWT Token Expiry: 30 days
OTP Expiry: 10 minutes
OTP Length: 6 digits
Rate Limit: 3 OTP requests per 5 minutes per email

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“± MOBILE IMPLEMENTATION CHECKLIST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Store JWT in secure storage (not SharedPreferences)
âœ… Add Authorization header to all protected endpoints
âœ… Handle 401 errors (logout user)
âœ… Validate email format before API call
âœ… Show countdown timer for OTP resend (60 seconds)
âœ… Handle rate limiting (429 error)
âœ… Show clear error messages
âœ… Implement retry logic for network errors
âœ… Cache profile data locally
âœ… Handle offline mode gracefully

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§ª TESTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Health Check: GET http://localhost:3000/health
Test Email: test@example.com
OTP: Check backend console logs

Postman: Import GoalNet-API.postman_collection.json
VS Code: Use quick-test.http with REST Client extension

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ EXAMPLE: FLUTTER HTTP REQUEST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

import 'package:http/http.dart' as http;
import 'dart:convert';

// Request OTP
final response = await http.post(
  Uri.parse('http://localhost:3000/auth/request-otp'),
  headers: {'Content-Type': 'application/json'},
  body: jsonEncode({'email': 'user@example.com'}),
);

// Verify OTP
final response = await http.post(
  Uri.parse('http://localhost:3000/auth/verify-otp'),
  headers: {'Content-Type': 'application/json'},
  body: jsonEncode({
    'email': 'user@example.com',
    'otp': '123456'
  }),
);
final data = jsonDecode(response.body);
final token = data['token'];

// Get Profile (with token)
final response = await http.get(
  Uri.parse('http://localhost:3000/me'),
  headers: {
    'Authorization': 'Bearer $token',
    'Content-Type': 'application/json',
  },
);

// Update Profile (with token)
final response = await http.put(
  Uri.parse('http://localhost:3000/me'),
  headers: {
    'Authorization': 'Bearer $token',
    'Content-Type': 'application/json',
  },
  body: jsonEncode({
    'name': 'John Doe',
    'role': 'founder',
    'primaryGoal': 'fundraising',
  }),
);

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ READY TO INTEGRATE!

Full Guide: MOBILE-API-GUIDE.md
Questions: Check README.md or backend team

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
