### Test Debug Mode
### Kill existing server first: lsof -ti:3000 | xargs kill -9
### Then run: npm run dev

@baseUrl = http://localhost:3000
@email = debug@example.com

###############################################
# Test 1: Request OTP (See Debug Logs)
###############################################

POST {{baseUrl}}/auth/request-otp
Content-Type: application/json

{
  "email": "{{email}}"
}

# Expected Debug Output:
# ================================================================================
# üîµ [DEBUG] POST /auth/request-otp
# ================================================================================
# ‚è∞ Timestamp: 2024-11-24T10:30:00.000Z
# üåê IP: ::1
# üìç Full URL: http://localhost:3000/auth/request-otp
# 
# üìã Headers:
#   content-type: application/json
#   user-agent: ...
# 
# üì¶ Request Body:
# {
#   "email": "debug@example.com"
# }
# 
# --------------------------------------------------------------------------------
# ‚úÖ Response Status: 200
# ‚è±Ô∏è  Duration: 45ms
# 
# üì§ Response Body:
# {
#   "success": true
# }
# ================================================================================

###############################################
# Test 2: Verify OTP (See Debug Logs)
###############################################

POST {{baseUrl}}/auth/verify-otp
Content-Type: application/json

{
  "email": "{{email}}",
  "otp": "123456"
}

# Expected Debug Output:
# Shows full request with OTP masked (******)
# Shows response with token truncated

###############################################
# Test 3: Get Profile with Auth (See User Info)
###############################################

GET {{baseUrl}}/me
Authorization: Bearer YOUR_TOKEN_HERE

# Expected Debug Output:
# Shows Authorization header as ******************** (hidden)
# Shows authenticated user info from JWT

###############################################
# NOTES
###############################################

# To Enable Debug Mode:
# 1. Edit .env:
#    APP_MODE=development
#    DEBUG_MODE=true
#
# 2. Restart server:
#    npm run dev
#
# 3. Check startup logs for:
#    üêõ Debug Logging: ENABLED ‚úÖ
#
# 4. Make API requests - see detailed logs

# To Disable Debug Mode:
# 1. Edit .env:
#    DEBUG_MODE=false
#
# 2. Restart server - logs will be minimal

# To Switch to Production Mode:
# 1. Edit .env:
#    APP_MODE=production
#    DEBUG_MODE=false
#
# 2. Configure SMTP (Gmail App Password)
#
# 3. Restart server - will use real OTP via email
